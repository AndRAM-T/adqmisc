diff -Naur emgd-1.10.0.2209/emgd/drm/emgd_drv.c emgd-1.10.0.2209.orig/emgd/drm/emgd_drv.c
--- emgd-1.10.0.2209/emgd/drm/emgd_drv.c	2012-02-15 14:15:51.000000000 +0000
+++ emgd-1.10.0.2209.orig/emgd/drm/emgd_drv.c	2012-02-15 14:14:14.244875000 +0000
@@ -38,6 +38,7 @@
 #include <drm/drm_crtc_helper.h>
 #include <linux/version.h>
 #include <linux/device.h>
+#include <linux/module.h>
 #include <drm/drm_pciids.h>
 #include <intelpci.h>
 #include "drm_emgd_private.h"
diff -Naur emgd-1.10.0.2209/emgd/drm/emgd_fbcon.c emgd-1.10.0.2209.orig/emgd/drm/emgd_fbcon.c
--- emgd-1.10.0.2209/emgd/drm/emgd_fbcon.c	2012-02-15 14:15:51.000000000 +0000
+++ emgd-1.10.0.2209.orig/emgd/drm/emgd_fbcon.c	2012-02-15 14:14:14.231541667 +0000
@@ -36,7 +36,7 @@
 #include <drmP.h>
 #include <drm_crtc_helper.h>
 #include <linux/vga_switcheroo.h>
-
+#include <linux/module.h>
 
 #include "user_config.h"
 #include "drm_emgd_private.h"
